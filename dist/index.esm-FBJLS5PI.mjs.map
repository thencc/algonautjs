{
  "version": 3,
  "sources": ["../../algo/inkey-client-js/dist/index.esm.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\n\n// src/FrameBus.ts\nvar SRC_DEFAULT = \"https://inkey.app\";\nvar FrameBus = class {\n  //\n  constructor(config) {\n    // [inkey-client]<->[inkey-wallet] communications class\n    this.ready = false;\n    this.initing = false;\n    // for async init w initSrc\n    this.destroying = false;\n    this.__v_skip = true;\n    // vue shim (to skip reactivity)\n    this.walEl = null;\n    // the iframe (inkey-wallet)\n    this.walElContainer = null;\n    // container for iframe for 3d perspective\n    this.walWin = null;\n    // window IN the iframe el\n    // need a reference to onMsgHandler since .bind(this) makes a new instance of that method and removeEventListener needs the real thing\n    this.onMsgHandler = null;\n    // `event` param should be MessageEvent<any> type, but that breaks in Node env\n    // msg map for async pings to inkey-wallet where inkey-client expects a reply\n    this.requests = /* @__PURE__ */ new Map();\n    if (!config) {\n      this.initSrc();\n    } else {\n      if (typeof config == \"string\") {\n        this.initSrc(config);\n      } else if (typeof config == \"object\") {\n        if (config.src) {\n          if (config.align) {\n            this.initSrc(config.src, config.align);\n          } else {\n            this.initSrc(config.src);\n          }\n        } else {\n          throw new Error(\"bad inkey config, cannot init\");\n        }\n      } else {\n        throw new Error(\"err constructing FrameBus\");\n      }\n    }\n    document.body.addEventListener(\"DOMNodeRemoved\", (evt) => {\n      if (!this.destroying) {\n        const removedNode = evt.target;\n        if (removedNode == this.walElContainer) {\n          console.log(\"iframe container removed from DOM\");\n          this.destroy();\n        }\n      }\n    }, false);\n  }\n  // INSERT iframe into DOM\n  async initSrc(src = SRC_DEFAULT, align = \"center\") {\n    console.log(\"initSrc\", src);\n    const exEl = document.querySelector(\"iframe#inkey-wallet\");\n    if (exEl) {\n      console.warn(\"dont mount frame to DOM again\");\n      return;\n    }\n    this.destroy();\n    this.initing = true;\n    const walElContainer = document.createElement(\"div\");\n    walElContainer.setAttribute(\"id\", \"inkey-wallet-container\");\n    walElContainer.style.position = \"fixed\";\n    if (align == \"left\")\n      walElContainer.classList.add(\"align-left\");\n    if (align == \"right\")\n      walElContainer.classList.add(\"align-right\");\n    const walEl = document.createElement(\"iframe\");\n    walEl.src = src;\n    walEl.classList.add(\"inkey-wallet\");\n    walEl.setAttribute(\"id\", \"inkey-wallet\");\n    walEl.setAttribute(\"name\", \"walFrame\");\n    walEl.setAttribute(\"title\", \"Algorand Microwallet\");\n    walEl.setAttribute(\"frameborder\", \"0\");\n    walEl.setAttribute(\"sandbox\", \"allow-scripts allow-same-origin allow-forms allow-modals allow-popups allow-downloads\");\n    walEl.setAttribute(\"allow\", \"publickey-credentials-get; clipboard-write\");\n    walEl.style.display = \"none\";\n    walEl.style.visibility = \"hidden\";\n    this.walEl = walEl;\n    this.walElContainer = walElContainer;\n    walElContainer.appendChild(walEl);\n    document.body.appendChild(walElContainer);\n    const walWin = walEl.contentWindow;\n    if (!walWin) {\n      console.error(\"no walWin\");\n      return;\n    }\n    this.walWin = walWin;\n    walEl.addEventListener(\"load\", () => {\n      console.log(\"iframe loaded\");\n      setTimeout(() => {\n        walEl.style.display = \"initial\";\n      }, 100);\n      this.ready = true;\n      this.initing = false;\n      this.onMsgHandler = this.onMessage.bind(this);\n      window.addEventListener(\"message\", this.onMsgHandler, false);\n      const data = {\n        type: \"get-style-recs\"\n      };\n      this.emit(data);\n      const data2 = {\n        type: \"init-comms\",\n        payload: {\n          url: window.location.origin + window.location.pathname\n        }\n      };\n      this.emit(data2);\n    });\n  }\n  showFrame(routepath) {\n    console.log(\"showFrame\", routepath);\n    if (this.walEl) {\n      this.walEl.classList.add(\"visible\");\n      this.walEl.style.position = \"sticky\";\n      setTimeout(() => {\n        if (this.walEl)\n          this.walEl.style.position = \"absolute\";\n      }, 100);\n      const data = {\n        type: \"set-visibility\",\n        payload: {\n          visible: true,\n          route: routepath\n        }\n      };\n      this.emit(data);\n    }\n  }\n  hideFrame() {\n    if (this.walEl) {\n      this.walEl.classList.remove(\"visible\");\n      const data = {\n        type: \"set-visibility\",\n        payload: {\n          visible: false\n        }\n      };\n      this.emit(data);\n    }\n  }\n  setHeight(height, unit = \"px\") {\n    if (this.walEl) {\n      this.walEl.style.height = `${height}${unit}`;\n    }\n  }\n  destroy() {\n    this.destroying = true;\n    if (this.walElContainer) {\n      if (this.walEl) {\n        this.walElContainer.removeChild(this.walEl);\n      }\n      document.body.removeChild(this.walElContainer);\n      this.walElContainer = null;\n    }\n    if (this.walEl) {\n      this.walEl = null;\n    }\n    if (this.walWin) {\n      this.walWin = null;\n    }\n    if (this.onMsgHandler) {\n      window.removeEventListener(\"message\", this.onMsgHandler, false);\n      this.onMsgHandler = null;\n    }\n    this.removeStyles();\n    this.ready = false;\n    this.initing = false;\n    this.destroying = false;\n  }\n  // async ready for waiting for iframe to mount + load into DOM\n  async isReady() {\n    return new Promise((resolve) => {\n      if (this.ready) {\n        resolve(true);\n      } else {\n        if (this.initing) {\n          const readyInterval = setInterval(() => {\n            console.log(\"isReady intervaling\");\n            if (this.ready) {\n              clearInterval(readyInterval);\n              resolve(true);\n            }\n          }, 150);\n        } else {\n          console.warn(\"do initSrc again\");\n          resolve(false);\n        }\n      }\n    });\n  }\n  setOnDisconnect(f) {\n    this.onDisconnect = f;\n  }\n  onDisconnect() {\n    console.log(\"onDisconnect\");\n  }\n  // onMessage(event: any) {\n  onMessage(event) {\n    let d = event.data;\n    if (d.source && d.source == \"ncc-inkey-wallet\") {\n      console.log(\"inkey-client got msg:\", d);\n      if (d.type === \"hide\") {\n        this.hideFrame();\n      }\n      if (d.type === \"disconnect\") {\n        this.onDisconnect();\n      }\n      if (d.type === \"set-height\") {\n        const h = d.payload.height;\n        if (h) {\n          this.setHeight(h);\n        }\n      }\n      if (d.type == \"style-recs\") {\n        const css = d.payload.css;\n        this.insertStyles(css);\n      }\n      if (d.type == \"async-reply\") {\n        if (d[\"async\"] && d.async == true && d.uuid) {\n          const outgoing = this.requests.get(d.uuid);\n          if (!outgoing) {\n            throw Error(\"got an async msg back but could not match the uuid to resolve it\");\n          }\n          this.requests.delete(d.uuid);\n          const resolve = outgoing.resolve;\n          resolve(d.payload);\n        }\n      }\n    }\n  }\n  emit(data) {\n    console.log(\"inkeyClient>emit\", data);\n    if (!this.ready) {\n      throw new Error(\"FrameBus not ready\");\n    }\n    const uuid = (/* @__PURE__ */ new Date()).getTime().toString();\n    data = __spreadProps(__spreadValues({}, data), {\n      source: \"ncc-inkey-client\",\n      uuid\n    });\n    if (this.walEl && this.walWin) {\n      this.walWin.postMessage(data, this.walEl.src);\n    } else {\n      throw new Error(\"no wallEl or walWin\");\n    }\n    return data;\n  }\n  // async emit\n  emitAsync(data) {\n    data = __spreadProps(__spreadValues({}, data), {\n      async: true\n    });\n    data = this.emit(data);\n    return new Promise((resolve) => {\n      if (data.uuid == void 0) {\n        throw new Error(\"emit returned without data.uuid\");\n      }\n      this.requests.set(data.uuid, { req: data, resolve });\n    });\n  }\n  insertStyles(css) {\n    const existingStyles = document.querySelector(\"style#inkey-wallet-styles\");\n    if (!existingStyles) {\n      const stylesheet = document.createElement(\"style\");\n      stylesheet.setAttribute(\"id\", \"inkey-wallet-styles\");\n      stylesheet.innerText = css;\n      document.head.appendChild(stylesheet);\n    } else {\n      existingStyles.innerText = css;\n    }\n    if (this.walEl) {\n      setTimeout(() => {\n        if (this.walEl)\n          this.walEl.style.visibility = \"initial\";\n      }, 100);\n    } else {\n      console.warn(\"no walEl for style.visibility reset\");\n    }\n  }\n  removeStyles() {\n    const styleEl = document.querySelector(\"style#inkey-wallet-styles\");\n    if (styleEl) {\n      document.head.removeChild(styleEl);\n    }\n  }\n};\n\n// src/index.ts\nvar createClient = async (config) => {\n  return {\n    frameBus: new FrameBus(config),\n    username: void 0,\n    account: void 0,\n    // used by algonaut, right?\n    /**\n     * Opens Inkey to allow users to create an account or login with a previously\n     * created account. Must be called before transactions can be signed.\n     * @param payload Optional payload object, can contain `siteName` parameter to display the name of the application.\n     * @returns Promise resolving to an account object of type `{ account: string, username: string }[]`\n     * \t\t\t// return array because we will support arrays of accounts in the future even if we always return 1 for now\n     */\n    async connect(payload) {\n      if (!payload)\n        payload = {};\n      const data = {\n        type: \"connect\",\n        payload\n      };\n      const account = await this.ping(data, { showFrame: true });\n      this.account = {\n        addr: account.address,\n        sk: new Uint8Array([])\n      };\n      this.username = account.username;\n      return [{\n        address: account.address,\n        username: account.username\n      }];\n    },\n    /**\n     * Tells Inkey to close your session & clear local storage.\n     * @returns Success or fail message\n     */\n    async disconnect() {\n      const data = {\n        type: \"disconnect\"\n      };\n      if (!this.account || !this.account.addr) {\n        throw new Error(\"no acct to disconnect\");\n      }\n      const res = await this.ping(data, { showFrame: false });\n      if (res.success) {\n        this.account = void 0;\n        this.username = void 0;\n      }\n      return res;\n    },\n    /**\n     * Shows the Inkey wallet frame\n     */\n    show(routepath) {\n      if (this.frameBus) {\n        this.frameBus.showFrame(routepath);\n      }\n    },\n    /**\n     * Hides the Inkey wallet frame\n     */\n    hide() {\n      if (this.frameBus) {\n        this.frameBus.hideFrame();\n        this.ping({ type: \"reject\" });\n      }\n    },\n    // ---\n    //\n    /**\n     * Sends messages to Inkey via FrameBus\n     * @param data Message to send\n     * @returns Whatever Inkey gives us\n     */\n    async ping(data, options) {\n      if (!this.frameBus) {\n        throw new Error(\"No inkey frameBus\");\n      }\n      if (!this.frameBus.ready) {\n        await this.frameBus.isReady();\n      }\n      data.source = \"ncc-inkey-client\";\n      data.async = true;\n      if (options == null ? void 0 : options.showFrame)\n        this.frameBus.showFrame();\n      const returnedPayload = await this.frameBus.emitAsync(data);\n      return returnedPayload;\n    },\n    /**\n     * Signs unsigned transactions, returns signed txns\n     * @param txns Array of Uint8Array encoded transactions\n     * @returns {Promise<InkeySignTxnResponse>} Promise resolving to response object containing signedTxns if successful. Otherwise, provides `error` or `reject` properties. { success, reject, error, signedTxns }\n     */\n    async signTxnsUint8Array(txns) {\n      var _a;\n      const data = {\n        type: \"sign-txns-raw\",\n        payload: {\n          txns\n        }\n      };\n      const res = await this.ping(data, { showFrame: true });\n      (_a = this.frameBus) == null ? void 0 : _a.hideFrame();\n      if (res.error) {\n        return {\n          success: false,\n          reject: false,\n          error: res.error\n        };\n      }\n      if (res.reject) {\n        return {\n          success: false,\n          reject: true\n        };\n      }\n      return {\n        success: true,\n        reject: false,\n        signedTxns: res.signedTxns\n      };\n    },\n    /**\n     * Sends unsigned transactions to Inkey, awaits signing, returns signed txns\n     * @param txns Array of base64 encoded transactions OR more complex obj array w txn signing type needed\n     * @returns {Promise<InkeySignTxnResponse>} Promise resolving to response object containing signedTxns if successful. Otherwise, provides `error` or `reject` properties. { success, reject, error, signedTxns }\n     */\n    async signTxns(txns) {\n      var _a;\n      let data;\n      if (typeof txns[0] == \"string\") {\n        data = {\n          type: \"sign-txns\",\n          // determines payload type\n          payload: {\n            txns\n          }\n        };\n      } else if (typeof txns[0] == \"object\") {\n        data = {\n          type: \"sign-txns\",\n          // determines payload type\n          payload: {\n            txns\n          }\n        };\n      } else {\n        throw new Error(\"bad txns array input...\");\n      }\n      const res = await this.ping(data, { showFrame: true });\n      (_a = this.frameBus) == null ? void 0 : _a.hideFrame();\n      if (res.error) {\n        return {\n          success: false,\n          reject: false,\n          error: res.error\n        };\n      }\n      if (res.reject) {\n        return {\n          success: false,\n          reject: true\n        };\n      }\n      return {\n        success: true,\n        reject: false,\n        signedTxns: res.signedTxns\n      };\n    }\n  };\n};\nexport {\n  createClient\n};\n"],
  "mappings": "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",
  "names": ["init_shim", "__defProp", "__defProps", "__getOwnPropDescs", "__getOwnPropSymbols", "__hasOwnProp", "__propIsEnum", "__defNormalProp", "obj", "key", "value", "__spreadValues", "a", "b", "prop", "__spreadProps", "SRC_DEFAULT", "FrameBus", "config", "evt", "src", "align", "walElContainer", "walEl", "walWin", "data", "data2", "routepath", "height", "unit", "resolve", "readyInterval", "f", "event", "d", "h", "css", "outgoing", "uuid", "existingStyles", "stylesheet", "styleEl", "createClient", "payload", "account", "res", "options", "txns", "_a"]
}
